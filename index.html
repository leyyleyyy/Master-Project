<!DOCTYPE html>
<html lang="fr">

<head>

    <meta charset="UTF-8" />
    <title>Map Music</title>
    <link rel="icon" href="data:,">
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/essentia.js@<version>/dist/essentia-wasm.web.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/essentia.js@<version>/dist/essentia.js-*.js"></script>
    <script>
        function hidePostWinPanel() {
            const panel = document.getElementById("postWinContainer");
            if (panel) panel.remove();
            window.showPostMiniGameMessage = false; // permet de reprendre l'exploration
        }
    </script>

    <script src="tracks.js" defer></script>
    <script src="state_responsive.js" defer></script>
    <script src="evolution.js" defer></script>
    <script src="visuals.js" defer></script>
    <script src="minigames.js" defer></script>
    <script src="views.js" defer></script>
    <script src="interaction_scroll_final.js" defer></script>
    <script src="onboarding.js" defer></script>
    <script src="sketch.js" defer></script>
    <link rel="stylesheet" href="style.css" />

</head>

<body>

    <div id="genreProgress">
        <div id="progressBarContainer">
            <div id="progressBar"></div>
        </div>
        <p id="progressText">0 / 0 genres débloqués</p>
    </div>


    <div id="container">
        <div id="burgerMenuToggle">☰</div>
        <div id="burgerMenu">
            <button class="menu-btn" data-mode="avatar">Genre map</button>
            <button class="menu-btn" data-mode="collection">Collection</button>
            <button class="menu-btn" data-mode="minigame">Mini-jeu</button>
        </div>

        <!-- SHUFFLE -->
        <div id="shuffleBtn" class="button-icon" style="background-image:
      linear-gradient(145deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0)),
      url('assets/shuffle.png');"></div>
        <div id="shuffleTooltip">Jouer pour découvrir un nouveau genre</div>
        <div id="pageTitleContainer">
            <h1 id="pageTitle">Ma Collection</h1>
            <p id="pageSubtitle">Tu peux rejouer les sons ou en débloquer !</p>
        </div>

    </div>
    <div id="mapCarousel"></div>
    <div id="videoWrapper">
        <video id="morphVideo" autoplay muted playsinline src=""></video>
    </div>

</body>

</html>