<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <title>Map Music</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/essentia.js@<version>/dist/essentia-wasm.web.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/essentia.js@<version>/dist/essentia.js-*.js"></script>

    <script src="tracks.js"></script>
    <script src="state.js"></script>
    <script src="visuals.js"></script>
    <script src="views.js"></script>
    <script src="interaction.js"></script>
    <script src="onboarding.js"></script>
    <script src="sketch.js"></script>
</head>

<style>
    body {
        margin: 0;
        overflow-y: scroll;
        overscroll-behavior: contain;
    }

    canvas {
        display: block;
    }

    /* MASQUE LES FILTRES PAR DÉFAUT */
    #collectionFilters {
        display: none;
    }
</style>

<body>
    <div id="genreProgress">
        <div id="progressBarContainer">
            <div id="progressBar"></div>
        </div>
        <p id="progressText">0 / 0 genres débloqués</p>
    </div>

    <div id="container">
        <!-- MENU BURGER -->
        <div id="burgerMenuToggle">☰</div>
        <div id="burgerMenu">
            <button class="menu-btn" data-mode="avatar">Avatar</button>
            <button class="menu-btn" data-mode="collection">Collection</button>
            <button class="menu-btn" data-mode="minigame">Mini-jeu</button>
        </div>

        <!-- AVATAR -->
        <img id="avatar" src="avatars/avatar_1.gif" />

        <!-- SHUFFLE -->
        <div id="shuffleBtn" class="button-icon" style="background-image:
      linear-gradient(145deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0)),
      url('assets/shuffle.png');"></div>
        <div id="shuffleTooltip">Jouer pour découvrir un nouveau genre</div>

        <!-- TITRE AVATAR -->
        <div id="avatarTitleGroup">
            <h1 id="avatarTitle">Map de genres</h1>
            <p id="avatarSubtitle">Chaque genre découvert façonne ton avatar. Débloque-les tous !</p>
        </div>

        <!-- FILTRES COLLECTION -->
        <div id="collectionFilters">
            <div class="filter-group">
                <span class="filter-label">Genre :</span>
                <button class="filter-btn" data-genre="All">Tous</button>
                <button class="filter-btn" data-genre="Pop">Pop</button>
                <button class="filter-btn" data-genre="Hip-Hop">Hip-Hop</button>
                <button class="filter-btn" data-genre="Classique">Classique</button>
            </div>

            <div class="filter-group">
                <span class="filter-label">Énergie :</span>
                <button class="filter-btn" data-energy="low">Calme</button>
                <button class="filter-btn" data-energy="mid">Modérée</button>
                <button class="filter-btn" data-energy="high">Énergique</button>
            </div>

            <div class="filter-group">
                <span class="filter-label">Danceabilité :</span>
                <button class="filter-btn" data-dance="low">Rigide</button>
                <button class="filter-btn" data-dance="mid">Groove</button>
                <button class="filter-btn" data-dance="high">Dansante</button>
            </div>
        </div>
    </div>
</body>

</html>